<div align="center">

# ğŸ® Playo

**Transform Your Daily Habits into an Epic RPG Adventure** 

â­ Star this repo to help us grow

[![TypeScript](https://img.shields.io/badge/TypeScript-5.0-3178C6?style=flat&logo=typescript&logoColor=white)](https://www.typescriptlang.org/)
[![Node.js](https://img.shields.io/badge/Node.js-18+-339933?style=flat&logo=node.js&logoColor=white)](https://nodejs.org/)
[![Express](https://img.shields.io/badge/Express-4.x-000000?style=flat&logo=express&logoColor=white)](https://expressjs.com/)
[![Prisma](https://img.shields.io/badge/Prisma-5.x-2D3748?style=flat&logo=prisma&logoColor=white)](https://www.prisma.io/)
[![Google Gemini](https://img.shields.io/badge/AI-Google_Gemini-orange?style=flat&logo=google&logoColor=white)](https://ai.google.dev/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

[Features](#-features) â€¢ [Quick Start](#-quick-start) â€¢ [Architecture](#-architecture) â€¢ [API Docs](./backend/docs/TECHNICAL_DOCUMENTATION_COMPLETE.md)

</div>

---

## ğŸŒŸ What is Playo?

**Playo** is an innovative habit tracking application that gamifies personal productivity by transforming your real-life progress into an immersive RPG adventure. Complete tasks, level up your character, and experience AI-generated stories that dynamically adapt to your achievements.

**The Magic:** Your morning workout doesn't just give you XPâ€”it appears in the story as your character's training paying off in an epic battle. Every habit becomes part of your hero's journey.

---

## âœ¨ Features

### ğŸ¤– AI-Powered Story Generation
- **Dynamic Narratives** - 10-chapter story arcs generated by Google Gemini AI
- **Personalized Content** - Stories reflect YOUR actual task completions
- **Branching Paths** - Make choices that shape your adventure
- **Quest Integration** - In-game quests tied to real-life habits
- **NPC Dialogues** - AI-generated conversations with characters

### ğŸ“Š Comprehensive Task Management
- **Multiple Task Types** - Daily habits, recurring tasks, and one-time todos
- **Difficulty Levels** - EASY, MEDIUM, HARD tasks with scaled rewards
- **Smart Categories** - Fitness, Learning, Wellness, Productivity, and more
- **Streak Tracking** - Build consistency with daily/weekly streak counters
- **Completion History** - Track your progress over time

### âš”ï¸ RPG Progression System
- **Character Leveling** - Gain XP from completed tasks (10-50 XP based on difficulty)
- **6 Core Stats** - Strength, Wisdom, Agility, Endurance, Luck, Charisma
- **Stat Growth** - Different tasks boost different attributes
- **Combat Challenges** - Stat-based battles with AI-narrated outcomes
- **Equipment System** - Unlock weapons, armor, and accessories

### ğŸ’ Inventory & Items
- **Diverse Item Types** - Weapons, armor, consumables, quest items, cosmetics
- **Rarity Tiers** - Common â†’ Uncommon â†’ Rare â†’ Epic â†’ Legendary
- **Equipment Slots** - Equip items to boost your stats
- **Item Catalog** - 30+ pre-defined items with unique effects

---

## ğŸš€ Quick Start

### Prerequisites

- **Node.js** 18+ ([Download](https://nodejs.org/))
- **npm** 8+
- **Google Gemini API Key** ([Get one free](https://makersuite.google.com/app/apikey))

### Installation

```bash
# 1. Clone the repository
git clone https://github.com/islamborghini/playo.git
cd playo

# 2. Install backend dependencies
cd backend
npm install

# 3. Configure environment variables
cp .env.example .env
# Edit .env and add your GEMINI_API_KEY

# 4. Set up the database
npx prisma migrate dev

# 5. Seed with demo data (optional)
npm run db:seed

# 6. Start the development server
npm run dev
```

**Server runs at:** `http://localhost:3000`

### First API Call

```bash
# Register a new user
curl -X POST http://localhost:3000/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "email": "hero@example.com",
    "password": "SecurePass123!",
    "username": "hero",
    "characterName": "Aria the Brave"
  }'

# Save the token from the response and create your first story
curl -X POST http://localhost:3000/api/ai/story/arc/create \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "characterName": "Aria the Brave",
    "characterLevel": 1,
    "characterClass": "Warrior"
  }'
```

ğŸ‰ **Congratulations!** You've just started your first epic adventure!

---

## ğŸ“ Project Structure

```
playo/
â”œâ”€â”€ backend/                  # Node.js + Express API
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ controllers/     # Request handlers
â”‚   â”‚   â”œâ”€â”€ services/        # Business logic
â”‚   â”‚   â”‚   â”œâ”€â”€ geminiService.ts      # AI story generation
â”‚   â”‚   â”‚   â”œâ”€â”€ characterService.ts   # Character progression
â”‚   â”‚   â”‚   â”œâ”€â”€ inventoryService.ts   # Item management
â”‚   â”‚   â”‚   â”œâ”€â”€ taskService.ts        # Task CRUD
â”‚   â”‚   â”‚   â””â”€â”€ streakService.ts      # Streak tracking
â”‚   â”‚   â”œâ”€â”€ routes/          # API endpoints
â”‚   â”‚   â”œâ”€â”€ middleware/      # Auth, validation, rate limiting
â”‚   â”‚   â”œâ”€â”€ utils/           # Helpers (XP calculator, JWT, etc.)
â”‚   â”‚   â””â”€â”€ types/           # TypeScript definitions
â”‚   â”œâ”€â”€ prisma/
â”‚   â”‚   â”œâ”€â”€ schema.prisma    # Database schema
â”‚   â”‚   â””â”€â”€ migrations/      # Database migrations
â”‚   â”œâ”€â”€ docs/                # Technical documentation
â”‚   â””â”€â”€ tests/               # Unit & integration tests
â”œâ”€â”€ frontend/                # React app (coming soon)
â””â”€â”€ package.json             # Monorepo scripts
```

---

## ğŸ—ï¸ Architecture

### Technology Stack

| Layer | Technology | Purpose |
|-------|-----------|---------|
| **Backend** | Node.js 18 + TypeScript 5.0 | Runtime & type safety |
| **Framework** | Express.js 4.x | RESTful API server |
| **Database** | SQLite (dev) / PostgreSQL (prod) | Data persistence |
| **ORM** | Prisma 5.x | Type-safe database access |
| **AI** | Google Gemini 2.5 Flash | Story & dialogue generation |
| **Auth** | JWT + bcrypt | Secure authentication |
| **Validation** | Joi + Zod | Request validation |
| **Rate Limiting** | Redis + express-rate-limit | API protection |
| **Testing** | Jest + ts-jest | Unit & integration tests |

### API Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Client Layer                  â”‚
â”‚      (React App - Coming Soon)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ REST API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Express Middleware              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  Helmet  â”‚   CORS   â”‚   Auth   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Route Handlers                 â”‚
â”‚  /auth  /tasks  /stories  /character    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Service Layer                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Gemini AI     â”‚  Task Service   â”‚   â”‚
â”‚  â”‚  Character     â”‚  Inventory      â”‚   â”‚
â”‚  â”‚  XP Calculator â”‚  Streak Tracker â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Data Layer (Prisma ORM)          â”‚
â”‚         SQLite / PostgreSQL             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Core Systems

### 1. Task Management System

Create and track tasks with different types and difficulties:

```typescript
// Task Types
- DAILY: Recurring daily habits (e.g., "Morning workout")
- HABIT: Weekly/monthly habits (e.g., "Read 3 books this month")
- TODO: One-time tasks (e.g., "Complete project proposal")

// Difficulty & XP Rewards
- EASY: 10 XP, +1 stat point
- MEDIUM: 25 XP, +2 stat points
- HARD: 50 XP, +3 stat points
```

### 2. Character Progression

Level up and grow your stats:

```typescript
// XP Requirements
Level 1 â†’ 2: 100 XP
Level 2 â†’ 3: 250 XP
Level 3 â†’ 4: 500 XP
// Formula: 100 * (level ^ 1.5)

// Stats Impact
Strength: Combat damage, physical tasks
Wisdom: Magic abilities, learning tasks
Agility: Dodge chance, speed-based tasks
Endurance: Health points, stamina tasks
Luck: Critical hits, item drops
Charisma: NPC interactions, social tasks
```

### 3. AI Story Generation

Powered by Google Gemini 2.5 Flash:

```typescript
// Story Structure
1. Opening Chapter (auto-generated on arc creation)
2-9. Progressive Chapters (generated as you complete tasks)
10. Epic Finale (unlocked at level 10+)

// Features
- Context-aware narratives (remembers your choices)
- Task-to-story integration (workouts = training scenes)
- Branching dialogue options
- Dynamic quest generation
```

### 4. Inventory & Equipment

Collect and equip items:

```typescript
// Item Rarities
Common: +5% stat bonus
Uncommon: +10% stat bonus
Rare: +15% stat bonus
Epic: +25% stat bonus
Legendary: +40% stat bonus + special effect

// Equipment Slots
- Weapon (Strength/Agility boost)
- Armor (Endurance boost)
- Accessory (Luck/Charisma boost)
```

---

## ğŸ“š API Reference

### Authentication

| Endpoint | Method | Description |
|----------|--------|-------------|
| `/api/auth/register` | POST | Create new account |
| `/api/auth/login` | POST | Login & get JWT token |
| `/api/auth/me` | GET | Get current user info     |
| `/api/auth/refresh` | POST | Refresh JWT token   |

### Tasks

| Endpoint | Method | Description |
|----------|--------|-------------|
| `/api/tasks` | GET | List all tasks |
| `/api/tasks` | POST | Create new task |
| `/api/tasks/:id` | GET | Get task details |
| `/api/tasks/:id` | PUT | Update task |
| `/api/tasks/:id/complete` | POST | Mark task complete & gain XP |
| `/api/tasks/stats` | GET | Get task statistics |

### Character

| Endpoint | Method | Description |
|----------|--------|-------------|
| `/api/character/profile` | GET | Get character stats |
| `/api/character/level-up` | POST | Level up character |
| `/api/character/stats` | GET | Get detailed stats |

### Stories

| Endpoint | Method | Description |
|----------|--------|-------------|
| `/api/ai/story/arc/create` | POST | Generate new story arc |
| `/api/ai/story/arc/continue` | POST | Continue to next chapter |
| `/api/stories` | GET | List all story arcs |
| `/api/stories/:id` | GET | Get story details |

### Inventory

| Endpoint | Method | Description |
|----------|--------|-------------|
| `/api/inventory` | GET | List inventory items |
| `/api/inventory/:id/equip` | POST | Equip item |
| `/api/inventory/:id/unequip` | POST | Unequip item |
| `/api/catalog/items` | GET | Browse item catalog |

**Full API Documentation:** [Technical Documentation](./backend/docs/TECHNICAL_DOCUMENTATION_COMPLETE.md)

---

## ğŸ§ª Testing

Run the comprehensive test suite:

```bash
cd backend

# Run all tests
npm test

# Run with coverage
npm run test:coverage

# Watch mode
npm run test:watch
```

**Test Coverage:**
- âœ… Character Service (leveling, stats)
- âœ… XP Calculator (progression formulas)
- âœ… Inventory Service (items, equipment)
- âœ… Streak Service (daily/weekly tracking)
- âœ… Gemini Service (AI generation)

---

## ğŸ› ï¸ Development

### Available Scripts

```bash
# Backend Development
npm run backend          # Start backend dev server
npm run backend:build    # Build for production
npm run backend:start    # Start production server

# Database
npm run db:migrate       # Run migrations
npm run db:seed          # Seed demo data
npm run db:studio        # Open Prisma Studio GUI

# Code Quality
npm run lint             # Run ESLint
npm run format           # Format with Prettier
npm test                 # Run tests
```

### Environment Variables

Create a `.env` file in `/backend`:

```env
# Server
NODE_ENV=development
PORT=3000
APP_NAME=playo
APP_VERSION=1.0.0

# Database
DATABASE_URL="file:./prisma/dev.db"

# JWT
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=7d

# Google Gemini AI
GEMINI_API_KEY=your-gemini-api-key-here

# CORS
CORS_ORIGIN=http://localhost:5173
CORS_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
```

---

## ğŸš§ Roadmap

### âœ… Completed (Backend)
- [x] RESTful API with Express + TypeScript
- [x] User authentication & authorization
- [x] Task management (Daily, Habit, Todo)
- [x] Character progression system
- [x] XP calculation & leveling
- [x] Inventory & equipment system
- [x] AI story generation with Gemini
- [x] Streak tracking
- [x] Rate limiting & security
- [x] Comprehensive tests

---

## ğŸ“– Documentation

- **[Backend README](./backend/README.md)** - Backend-specific documentation
- **[Technical Documentation](./backend/docs/TECHNICAL_DOCUMENTATION_COMPLETE.md)** - Complete technical reference
- **[API Reference](./backend/docs/TECHNICAL_DOCUMENTATION_COMPLETE.md#api-reference)** - Detailed API endpoints
- **[Database Schema](./backend/PRISMA_SCHEMA.md)** - Prisma schema documentation
- **[Item Catalog](./backend/ITEM_CATALOG_QUICK_REFERENCE.md)** - All available items

---

## ğŸ¤ Contributing

Contributions are welcome! Here's how to get started:

1. **Fork the repository**
2. **Create a feature branch** (`git checkout -b feature/amazing-feature`)
3. **Commit your changes** (`git commit -m 'Add amazing feature'`)
4. **Push to the branch** (`git push origin feature/amazing-feature`)
5. **Open a Pull Request**

### Development Guidelines

- Write tests for new features
- Follow TypeScript strict mode
- Use Prettier for formatting
- Write meaningful commit messages
- Update documentation as needed

---

## ğŸ“ License

This project is licensed under the **MIT License** - see the [LICENSE](./backend/LICENSE) file for details.

---

## ğŸ™ Acknowledgments

- **[Google Gemini AI](https://ai.google.dev/)** - Powering our story generation
- **[Prisma](https://www.prisma.io/)** - Type-safe database toolkit
- **[Express.js](https://expressjs.com/)** - Fast, minimalist web framework
- **[TypeScript](https://www.typescriptlang.org/)** - JavaScript with types

---

## ğŸ’¬ Support & Contact

- **Issues:** [GitHub Issues](https://github.com/islamborghini/playo/issues)
- **Discussions:** [GitHub Discussions](https://github.com/islamborghini/playo/discussions)
- **Email:** [Contact the maintainer](mailto:your-email@example.com)

---

<div align="center">

**Made with â¤ï¸ by the Playo Team**

â­ Star this repo if you find it useful!

[Report Bug](https://github.com/islamborghini/playo/issues) â€¢ [Request Feature](https://github.com/islamborghini/playo/issues)

</div>
